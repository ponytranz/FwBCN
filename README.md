# RenPy 汉化工作流

## 待办事项

- [x] 将翻译文件转换到翻译平台可接受的格式
- [x] 自动化从平台拉取和提交翻译
- [x] 自动化将翻译文件从翻译平台格式转换回 rpy
- [ ] 自动化拉取成员贡献排行 (Paratranz)
- [ ] 自动化转换编译以及打包发布
- [ ] 自动化导出翻译文件和转换格式 (适用于原游戏更新中的项目)

## 已知问题

### 转换成 json 后有少量项目乱序到最后

怀疑是 for of 乱序的问题, 但是无法复现。
写了一个重新排序，但是上传到 Paratranz 没有变化，只能每次拉取翻译时都重新排序了。
下次上传到 Paratranz 之前应该至少来回转换一次检查是否有顺序变化。

### RenPy 引擎问题

菜单的说明文字使用说话人时，没有被识别为可以翻译的字段。
并且无法使用 `_()` 手动标注为可以翻译的字段。
说话人在游戏内显示正常。
不使用说话人时，可以被识别为可以翻译的字段。

### FwB 项目问题

```log
While running game code:
    File "game/3map.rpy", line 647 in <module>
  NameError: name 'cindysex' is not defined
```
